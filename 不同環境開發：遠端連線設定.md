### - IP vs Domain 問題

**問題：** 在家透過 VPN 連公司 GitLab 時，domain 無法解析

**原因：**

- VPN 可連到內網 IP（如 `172.18.0.5`）
- 但 DNS 無法解析公司內部 domain（如 `gitlab.company.com`）

**解決方案：**

#### 方案 1：修改 Git remote URL 為 IP

```bash
git remote set-url origin http://172.18.0.5/group/project.git
```

✅ 簡單直接  
⚠️ IP 改變時需要更新

#### 方案 2：修改 hosts 檔案

```bash
# Windows: C:\Windows\System32\drivers\etc\hosts
172.18.0.5  gitlab.company.com
```

✅ 保持 domain 不變  
⚠️ IP 改變時需要更新

#### 方案 3：設定 VPN DNS（最佳）

在 VPN 客戶端設定使用公司 DNS server  
✅ 自動解析，IP 變了也不用改

---

### - Personal Access Token 設定

**為什麼需要：** GitLab 通常要求使用 token 而非密碼進行 Git 操作

**步驟：**

1. 登入 GitLab → 右上角頭像 → **Settings** → **Access Tokens**
2. 建立 token：
    - **Token name**: 例如 `home-laptop`
    - **Scopes**: 勾選 `read_repository` 和 `write_repository`
3. 複製 token（只會顯示一次）

**使用：**

```bash
git push

# Username: 你的 GitLab 帳號
# Password: Personal Access Token（不是登入密碼）
```

**儲存認證（避免每次輸入）：**

```bash
# 設定 Git Credential Manager
git config --global credential.helper manager-core

# 第一次輸入後，就會自動儲存在 Windows 認證管理員
```

**補充說明：Token 類型差異**

- **Personal Access Token**：用於 Git 操作（push/pull）和 API 呼叫
    - 必須勾選：`read_repository`、`write_repository`
    - 可選：`api`（完整 API 存取權限）等其他權限

- **Feed Token**：僅用於訂閱 RSS/Atom feeds（專案動態）
    - 只能讀取活動資訊，無法進行 Git 操作
    - 不適用於 Git push/pull

**Git 操作請使用 Personal Access Token**

---

### HTTP 不安全連線設定

如果公司 GitLab 只支援 HTTP（無 HTTPS）：

```bash
# 允許使用不加密的 HTTP
git config --local http.http://172.18.0.5/.allow unencryptedHttp
```

參考：
1. [不同環境開發：單人開發 vs 多人開發工作流程](不同環境開發：單人開發%20vs%20多人開發工作流程.md)
2. [不同環境開發：Git Merge 方法比較](不同環境開發：Git%20Merge%20方法比較.md)