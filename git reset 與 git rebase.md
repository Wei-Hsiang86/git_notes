Git æœ‰ä¸‰å€‹é‡è¦å€åŸŸï¼š

- **å·¥ä½œç›®éŒ„ Working Directory**ï¼šå¯¦éš›ç·¨è¼¯æª”æ¡ˆçš„åœ°æ–¹
- **æš«å­˜å€ Staging Area**ï¼šç”¨ `git add` å¾Œæª”æ¡ˆå­˜æ”¾çš„åœ°æ–¹
- **å„²å­˜åº« Repository**ï¼šç”¨ `git commit` å¾Œæª”æ¡ˆå­˜æ”¾çš„åœ°æ–¹

### - Git Reset

`git reset` ä¸»è¦ç”¨æ–¼æ’¤éŠ·æˆ–é‡è¨­ç•¶å‰ branch ç‹€æ…‹åˆ°æŒ‡å®šçš„ commitï¼Œå½±éŸ¿çš„æ˜¯==é€™å€‹ commit (ä¸å«ä»–è‡ªå·±) ä¹‹å¾Œçš„æ‰€æœ‰ commit==ã€‚æŒ‡å®šçš„æ™‚å€™å¯ä»¥ç”¨ hash å€¼ï¼Œä¹Ÿå¯ä»¥ç”¨ HEAD çš„ç›¸å°ä½ç½®è¡¨ç¤º

```hash
# æ™‚é–“æµ
... â†’ 7c7ab31 â†’ 83bd9a0 â†’ ad8d3f7 â†’ 15f9306 (HEAD)
      HEAD~3     HEAD~2    HEAD~1      HEAD~0
```

`HEAD~1` è·Ÿ `HEAD^` åŒç¾©ï¼Œ`HEAD~2` è·Ÿ `HEAD^^` åŒç¾©ï¼Œä½†æ•¸å­—çš„æ–¹å¼æ›´ç‚ºç›´è§€ã€‚é€™è£¡æœ‰å€‹å°è§€å¿µå¯ä»¥æ³¨æ„ï¼Œåœ¨ Git çš„å…§éƒ¨å„²å­˜æ©Ÿåˆ¶ä¸­ï¼š

- **æ¯å€‹ commit éƒ½è¨˜éŒ„è‘—å®ƒçš„çˆ¶ commit**
- **ä½†çˆ¶ commit ä¸çŸ¥é“èª°æ˜¯å®ƒçš„å­ commit**
  æ‰€ä»¥æ‰æœƒç”¨ã€ŒHEAD^ï¼šHEAD çš„çˆ¶ã€ï¼Œé€™æ¨£çš„æ–¹å¼ä¾†è¡¨é”

#### â–¸ ä¸‰ç¨®æ¨¡å¼

##### 1. `git reset --soft <commit>`ï¼šåªç§»å‹• HEAD æŒ‡æ¨™åˆ°æŒ‡å®šçš„ commit

- âœ“ ç§»å‹• HEAD æŒ‡æ¨™åˆ°æŒ‡å®šçš„ commit
- âœ“ æš«å­˜å€ä¿æŒä¸è®Šï¼ˆæª”æ¡ˆé‚„åœ¨ stagingï¼‰
- âœ“ å·¥ä½œç›®éŒ„ä¿æŒä¸è®Š
- ğŸ“ **çµæœ**ï¼šå°±åƒå‰›åŸ·è¡Œå®Œ `git add .` æº–å‚™è¦ commit
  **ä½¿ç”¨æ™‚æ©Ÿ**ï¼šæƒ³è¦**é‡æ–°æ•´ç† commit è¨Šæ¯**ï¼Œæˆ–åˆä½µå¤šå€‹ commit

##### 2. `git reset --mixed <commit>` (é è¨­)ï¼šç§»å‹• HEAD æŒ‡æ¨™ï¼Œä¸”æ’¤å› commit

- âœ“ ç§»å‹• HEAD æŒ‡æ¨™åˆ°æŒ‡å®šçš„ commit
- â–³ æ¸…ç©ºæš«å­˜å€ï¼ˆæ’¤éŠ· `git add`ï¼Œ==ä½†ä¿ç•™åœ¨å·¥ä½œç›®éŒ„ä¸­==ï¼‰
- âœ“ å·¥ä½œç›®éŒ„ä¿æŒä¸è®Š
- ğŸ“ **çµæœ**ï¼šå°±åƒå‰›ä¿®æ”¹å®Œæª”æ¡ˆï¼Œé‚„æ²’åŸ·è¡Œ `git add`
  **ä½¿ç”¨æ™‚æ©Ÿ**ï¼šæƒ³è¦**é‡æ–°é¸æ“‡å“ªäº›æª”æ¡ˆ**è¦åŠ å…¥ä¸‹æ¬¡ commit

##### 3. `git reset --hard <commit>`ï¼šç§»å‹• HEAD æŒ‡æ¨™ï¼Œä¸”å¿ƒè¡€å…¨éƒ¨è›‹é›•

- âœ“ ç§»å‹• HEAD æŒ‡æ¨™åˆ°æŒ‡å®šçš„ commit
- â–³ æ¸…ç©ºæš«å­˜å€
- â–³ å·¥ä½œç›®éŒ„æ¢å¾©åˆ°æŒ‡å®š commit çš„ç‹€æ…‹ï¼ˆ==åœ¨é€™ä¹‹å¾Œæ–°å¢çš„æ‰€æœ‰æ±è¥¿éƒ½æ¶ˆå¤±==ï¼‰
- ğŸ“ **çµæœ**ï¼šå°±åƒæ™‚å…‰å€’æµå›ï¼ŒæŒ‡å®š commit å‰›å®Œæˆçš„æ™‚å€™
  **ä½¿ç”¨æ™‚æ©Ÿ**ï¼šç¢ºå®šæƒ³è¦å®Œå…¨æ”¾æ£„ä¹‹å¾Œçš„æ‰€æœ‰è®Šæ›´
  âš ï¸ **å±éšªï¼** æœƒæ°¸ä¹…åˆªé™¤æª”æ¡ˆè®Šæ›´ï¼Œä½¿ç”¨å‰è«‹ç¢ºèª

##### 4. é‡è¦æé†’

- æ‰€æœ‰ `git reset` éƒ½ä¸æœƒé€ æˆ detached HEADï¼ˆHEAD ä»æŒ‡å‘ç•¶å‰åˆ†æ”¯ï¼‰
- è¢«é‡ç½®çš„ commit æœƒè®Šæˆ unreachable objectsï¼Œæœ€çµ‚è¢« git çš„å›æ”¶æ©Ÿåˆ¶æ¸…é™¤
- ä½¿ç”¨ `git reflog` å¯ä»¥æ‰¾å›è¢« reset çš„ commit
- é‡è¦è®Šæ›´å‰å»ºè­°å…ˆå»ºç«‹åˆ†æ”¯å‚™ä»½ï¼š`git branch backup`

##### 5. è¨˜æ†¶å£è¨£

- **soft**ï¼šã€Œæº«æŸ”åœ°ã€åªç§»å‹• HEADï¼Œä»€éº¼éƒ½ä¸åˆª
- **mixed**ï¼šã€Œæ··åˆåœ°ã€ç§»å‹• HEAD + æ¸…æš«å­˜å€
- **hard**ï¼šã€Œå¼·ç¡¬åœ°ã€å…¨éƒ¨é‡ç½®ï¼Œä»€éº¼éƒ½ä¸ç•™

- `--hard` æœƒçœŸæ­£åˆªé™¤å·¥ä½œæˆæœä¸”ç„¡æ³•å¾©åŸï¼Œä½¿ç”¨å‰è«‹ä¸‰æ€
- `--soft` å’Œ `--mixed` éƒ½æœƒä¿ç•™æª”æ¡ˆè®Šæ›´

åƒè€ƒï¼š

1. [git åŸºç¤](git%20åŸºç¤.md)
2. [é—œæ–¼ detached HEAD (æ–·é ­) ç‹€æ…‹](<é—œæ–¼%20detached%20HEAD%20(æ–·é ­)%20ç‹€æ…‹.md>)

### - Git Rebase

`git rebase` ä¸»è¦ç”¨æ–¼é‡æ–°æ‡‰ç”¨ä¸€ç³»åˆ— commit åˆ°==å¦ä¸€å€‹åŸºç¤é»ä¸Š==ï¼Œé‡å¯« commit æ­·å²

#### â–¸ å¸¸è¦‹ç”¨æ³•

##### 1. ä¸€èˆ¬ rebase

```bash
git rebase <base-commit>
```

å°‡**ç•¶å‰åˆ†æ”¯**çš„ commit é‡æ–°æ‡‰ç”¨åˆ°æŒ‡å®šçš„åŸºç¤é»ä¸Šã€‚å‡è¨­ç›®å‰æˆ‘åœ¨ main åˆ†æ”¯ï¼Œç•¶åŸ·è¡Œ `git rebase dev1`ï¼Œä»£è¡¨çš„æ„æ€æ˜¯ç›®å‰æˆ‘æ˜¯ mainï¼Œæˆ‘æƒ³è¦ä»¥ dev1 ç‚ºåŸºç¤ï¼Œå°æˆ‘é€²è¡Œ rebaseï¼Œä¹Ÿå°±æ˜¯ rebase on dev1

rebase ä¸æ˜¯å–®ç´”çš„è¤‡è£½è²¼ä¸Šï¼Œå› ç‚º HASH å€¼æ˜¯æ ¹æ“šçˆ¶æª” SHA-1 ç®—å‡ºä¾†çš„ï¼Œæ‰€ä»¥ç•¶åƒç…§é»æ”¹è®Šï¼Œå…¨éƒ¨éƒ½æœƒé‡ç®—

å¦å¤–ï¼Œåœ¨ git ä¸­å¯ä»¥æ³¨æ„åŸ·è¡Œå‹•ä½œçš„æ–¹å‘ï¼Œé€™æ¨£æœƒè®“ git çš„å‹•ä½œç†è§£æ›´æ¸…æ¥šã€‚åƒæ˜¯ push å°±æ˜¯æ¨ä¸Šé ç«¯å„²å­˜åº«ï¼Œä½† rebase å°±æ˜¯ä»¥æŒ‡å®šåˆ†æ”¯ç‚ºåŸºæº–ï¼Œrebase æˆ‘è‡ªå·±

åƒè€ƒï¼š[å¦ä¸€ç¨®åˆä½µæ–¹å¼ï¼ˆä½¿ç”¨ rebaseï¼‰](https://gitbook.tw/chapters/branch/merge-with-rebase)

##### 2. äº’å‹•å¼ rebase

```bash
git rebase -i <èµ·é»>
```

æ‰“é–‹äº’å‹•å¼ç·¨è¼¯å™¨ï¼Œå¯ä»¥é¸æ“‡å¦‚ä½•è™•ç†æ¯å€‹ commitï¼šé‡æ–°æ’åºã€åˆä½µã€ä¿®æ”¹æˆ–åˆªé™¤

- èµ·é»æœ¬èº«**ä¸æœƒ**è¢«ç·¨è¼¯
- èµ·é»**ä¹‹å¾Œ**çš„æ‰€æœ‰ commit æ‰æœƒé€²å…¥ç·¨è¼¯æ¨¡å¼

#### â–¸ åŠŸèƒ½èˆ‡ç‰¹é»

- å¯ä»¥ä¿ç•™ä¿®æ”¹ä½†é‡çµ„ commit æ­·å²
- å¯ä»¥ç·¨è¼¯ã€åˆä½µã€åˆªé™¤æˆ–é‡æ–°æ’åº commit
- ç”¢ç”Ÿæ›´ä¹¾æ·¨ã€ç·šæ€§çš„æ­·å²è¨˜éŒ„
- æ¯” reset æ›´éˆæ´»ï¼Œå¯ä»¥é¸æ“‡æ€§åœ°è™•ç†ç‰¹å®šçš„ commit
- ==æœƒç”¢ç”Ÿå­¤å…’ commit==ï¼Œé€šå¸¸ git æœƒæœ‰å›æ”¶æ©Ÿåˆ¶

#### â–¸ é—œæ–¼ git rebase å’Œå·¥ä½œç›®éŒ„çš„é—œä¿‚

1. **å·¥ä½œç›®éŒ„ç‹€æ…‹è¦æ±‚**ï¼š

   - åœ¨é–‹å§‹ rebase ä¹‹å‰ï¼ŒGit é€šå¸¸è¦æ±‚ä½ çš„å·¥ä½œç›®éŒ„æ˜¯ã€Œä¹¾æ·¨çš„ã€ï¼Œä¹Ÿå°±æ˜¯æ²’æœ‰æœªæäº¤çš„ä¿®æ”¹
   - å¦‚æœä½ æœ‰æœªæš«å­˜æˆ–æœªæäº¤çš„è®Šæ›´ï¼ŒGit æœƒæ‹’çµ•åŸ·è¡Œ rebaseï¼Œä»¥é˜²æ­¢ä½ çš„æœªæäº¤è®Šæ›´è¢«è¦†è“‹æˆ–ä¸Ÿå¤±

2. **ç‚ºä»€éº¼éœ€è¦ä¹¾æ·¨çš„å·¥ä½œç›®éŒ„**ï¼š

   - Rebase æœ¬è³ªä¸Šæ˜¯é‡æ–°æ‡‰ç”¨ä¸€ç³»åˆ— commitï¼Œé€™å€‹éç¨‹å¯èƒ½æœƒä¿®æ”¹ç›¸åŒçš„æª”æ¡ˆ
   - å¦‚æœä½ çš„å·¥ä½œç›®éŒ„æœ‰æœªæäº¤çš„è®Šæ›´ï¼Œé€™äº›è®Šæ›´å¯èƒ½æœƒèˆ‡ rebase éç¨‹ä¸­çš„è®Šæ›´è¡çª

3. **è™•ç†æœªæäº¤è®Šæ›´çš„é¸é …**ï¼š

   - å°‡è®Šæ›´æäº¤ï¼š`git commit -m "æš«æ™‚æäº¤"`
   - å°‡è®Šæ›´æš«å­˜ï¼š`git stash`ï¼ˆrebase å®Œå¾Œå¯ç”¨ `git stash pop` æ¢å¾©ï¼‰
   - æ”¾æ£„è®Šæ›´ï¼š`git reset --hard`ï¼ˆè¬¹æ…ä½¿ç”¨ï¼Œæœƒä¸Ÿå¤±æ‰€æœ‰æœªæäº¤çš„è®Šæ›´ï¼‰

4. **Rebase å°å·¥ä½œç›®éŒ„çš„å½±éŸ¿**ï¼š
   - æˆåŠŸçš„ rebase å®Œæˆå¾Œï¼Œä½ çš„å·¥ä½œç›®éŒ„æœƒåæ˜ æœ€çµ‚ rebase å¾Œçš„ç‹€æ…‹
   - å¦‚æœ rebase éç¨‹ä¸­ç™¼ç”Ÿè¡çªï¼ŒGit æœƒæš«åœ rebaseï¼Œè®“ä½ è§£æ±ºè¡çª

å¦‚æœä½ æœ‰æœªæäº¤çš„è®Šæ›´ä½†ä»ç„¶æƒ³åŸ·è¡Œ rebaseï¼Œæœ€å®‰å…¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ `git stash` æš«æ™‚ä¿å­˜é€™äº›è®Šæ›´ï¼Œå®Œæˆ rebase å¾Œå†ç”¨ `git stash pop` æ¢å¾©

ç¸½çµä¾†èªªï¼Œç‚ºäº†å®‰å…¨èµ·è¦‹ï¼ŒåŸ·è¡Œ rebase å‰æœ€å¥½ç¢ºä¿å·¥ä½œç›®éŒ„æ˜¯ä¹¾æ·¨çš„ï¼Œæˆ–è€…å°‡è®Šæ›´æš«æ™‚ä¿å­˜èµ·ä¾†

åƒè€ƒï¼š

1. [git rebase é‡åˆ°å•é¡Œ](git%20rebase%20é‡åˆ°å•é¡Œ.md)
2. [git åŸºç¤](git%20åŸºç¤.md)

#### â–¸ git rebase -i äº’å‹•æ“ä½œçš„å‹•ä½œ

äº’å‹•å¼ rebase ä¸­ï¼Œæ™‚é–“é †åºæ˜¯ç”±é åˆ°è¿‘çš„ (log æ˜¯æœ€è¿‘çš„ç•¶ç¬¬ä¸€ï¼Œå¾ŒçºŒè¶Šä¾†è¶Šä¹…é )ï¼Œå…¶ä¸­æ¯å€‹æŒ‡ä»¤å‹•ä½œçš„æ„ç¾©ï¼š

1. **pick (p)**ï¼š

   - ä¿ç•™é€™å€‹ commitï¼Œä¸åšä»»ä½•ä¿®æ”¹
   - é€™æ˜¯é»˜èªå‹•ä½œ

2. **reword (r)**ï¼š

   - ä¿ç•™é€™å€‹ commitï¼Œä½†ä¿®æ”¹å…¶ commit è¨Šæ¯
   - åŸ·è¡Œæ™‚æœƒæ‰“é–‹ç·¨è¼¯å™¨è®“ä½ ä¿®æ”¹è¨Šæ¯

3. **edit (e)**ï¼š

   - æš«åœåœ¨é€™å€‹ commitï¼Œè®“ä½ å¯ä»¥ä¿®æ”¹ commit çš„å…§å®¹
   - å¯ä»¥ç”¨ `git commit --amend` ä¿®æ”¹ç•¶å‰ commit
   - ä¿®æ”¹å®Œæˆå¾Œï¼Œä½¿ç”¨ `git rebase --continue` ç¹¼çºŒ

4. **squash (s)**ï¼š

   - å°‡è©² commit åˆä½µåˆ°å‰ä¸€å€‹(çˆ¶) commit ä¸­
   - æœƒæ‰“é–‹ç·¨è¼¯å™¨è®“ä½ ç·¨è¼¯åˆä½µå¾Œçš„ commit è¨Šæ¯
   - åˆä½µå¾Œçš„è¨Šæ¯é è¨­åŒ…å«å…©å€‹ commit çš„è¨Šæ¯

5. **fixup (f)**ï¼š

   - é¡ä¼¼ squashï¼Œä½†ç›´æ¥ä½¿ç”¨å‰ä¸€å€‹ commit çš„è¨Šæ¯
   - ä¸æœƒæ‰“é–‹ç·¨è¼¯å™¨è®“ä½ ç·¨è¼¯è¨Šæ¯
   - é©åˆåˆä½µå°ä¿®æ”¹æˆ–ä¿®æ­£å‰ä¸€å€‹ commit çš„å…§å®¹

6. **drop (d)**ï¼š

   - å®Œå…¨åˆªé™¤è©² commit
   - æ³¨æ„ï¼šè‹¥æ­¤ commit åŒ…å«é‡è¦è®Šæ›´ï¼Œå¯èƒ½æœƒå½±éŸ¿å¾ŒçºŒ commit

7. **exec (x)**ï¼š

   - åŸ·è¡Œä¸€å€‹ shell å‘½ä»¤
   - ç”¨æ–¼åœ¨ rebase éç¨‹ä¸­åŸ·è¡Œæ¸¬è©¦æˆ–æª¢æŸ¥

8. **break (b)**ï¼š

   - åœ¨æ­¤è™•æš«åœ rebase éç¨‹
   - å¯è®“ä½ æª¢æŸ¥ä¸­é–“ç‹€æ…‹ï¼Œç„¶å¾Œæ‰‹å‹•ç¹¼çºŒ

9. **label (l)**ï¼š

   - ç‚ºç•¶å‰ HEAD æ·»åŠ ä¸€å€‹æ¨™ç±¤
   - ä¸»è¦ç”¨æ–¼è¤‡é›œçš„ rebase æ“ä½œ

10. **reset (t)**ï¼š

- é‡ç½® HEAD åˆ°æŒ‡å®šæ¨™ç±¤
- é€šå¸¸èˆ‡ label å‘½ä»¤ä¸€èµ·ä½¿ç”¨

åœ¨å¯¦éš›ä½¿ç”¨ä¸­ï¼Œæœ€å¸¸ç”¨çš„æŒ‡ä»¤æ˜¯ `pick`ã€`reword`ã€`squash`ã€`fixup` å’Œ `drop`ã€‚å…¶ä¸­ `squash` å’Œ `fixup` ç‰¹åˆ¥å¯¦ç”¨æ–¼æ•´ç†å’Œåˆä½µç›¸é—œçš„ commit

å¦‚æœä½ æƒ³åˆä½µå…©å€‹ commit ä¸¦ä¿ç•™å®Œæ•´çš„ commit è¨Šæ¯æ­·å²ï¼Œä½¿ç”¨ `squash`ï¼›å¦‚æœåªæƒ³ä¿ç•™ç¬¬ä¸€å€‹ commit çš„è¨Šæ¯ï¼Œä½¿ç”¨ `fixup` æœƒæ›´æ–¹ä¾¿

### - Git Reset èˆ‡ Rebase çš„ä¸»è¦å·®ç•°

| ç‰¹æ€§         | Git Reset                    | Git Rebase                                 |
| ------------ | ---------------------------- | ------------------------------------------ |
| ä¸»è¦ç›®çš„     | æ’¤éŠ·æäº¤ï¼Œé‡ç½®ç‹€æ…‹           | é‡æ§‹æ­·å²è¨˜éŒ„ï¼Œä¿æŒæ¸…æ½”çš„æäº¤ç·š             |
| å°æ­·å²çš„å½±éŸ¿ | ç›´æ¥ä¸Ÿæ£„æŸå€‹é»ä¹‹å¾Œçš„æ‰€æœ‰æäº¤ | é‡æ–°æ‡‰ç”¨æäº¤ï¼Œä¿ç•™è®Šæ›´ä½†å¯èƒ½æ”¹è®Šé †åºå’Œå…§å®¹ |
| æ“ä½œè¤‡é›œåº¦   | ç›¸å°ç°¡å–®                     | ç›¸å°è¤‡é›œï¼Œå°¤å…¶æ˜¯äº’å‹•å¼ rebase              |
| é©ç”¨å ´æ™¯     | æ’¤éŠ·æœ¬åœ°æœªæ¨é€çš„è®Šæ›´         | æ•´ç†æäº¤æ­·å²ã€åˆä½µåˆ†æ”¯å‰çš„æº–å‚™å·¥ä½œ         |
| é¢¨éšªç¨‹åº¦     | è¼ƒé«˜ï¼ˆå°¤å…¶æ˜¯ --hard æ¨¡å¼ï¼‰   | ä¸­ç­‰ï¼ˆå¯èƒ½éœ€è¦è§£æ±ºè¡çªï¼‰                   |

### - åˆä½µç‰¹å®š Commit çš„æ¡ˆä¾‹

å¦‚æœè¦åˆä½µå…©å€‹ç‰¹å®šçš„ commitï¼ˆå¦‚ 66bcc45 å’Œ d446349ï¼‰ï¼Œäº’å‹•å¼ rebase æ˜¯æ¯”è¼ƒç²¾ç¢ºçš„å·¥å…·ï¼š

```bash
5e7e6ea (HEAD -> main, origin/main) feat: add python venv notes and update folder structure
2058165 feat: add new notes about git and update git log notes
67a5e32 feat: update git notes about some command
52342f8 feat: update web dev folder arrange
d446349 feat: add new notes: Dockerfile, docker build
66bcc45 feat:add new docker notes about dockerfile
ff00e7a feat: add validate notes
64a0801 feat: add new postgresql notes
```

```bash
# å¾è¦ä¿®æ”¹çš„ç¯„åœçš„å‰ä¸€å€‹ commit é–‹å§‹
git rebase -i 66bcc45^

# åœ¨ç·¨è¼¯å™¨ä¸­å°‡è¦åˆä½µçš„ commit æ”¹ç‚º squash æˆ– s
pick d446349 feat: add new notes: Dockerfile, docker build
squash 66bcc45 feat:add new docker notes about dockerfile
```

é€™è£¡çš„ `^` è¡¨ç¤º 66bcc45 çš„çˆ¶ commit ä¹Ÿå°±æ˜¯ ff00e7aï¼Œç„¶å¾Œèµ·é»ä¸ç®—ï¼Œæ‰€ä»¥å°±æ˜¯å¾ 66bcc45 ç·¨è¼¯åˆ°çµ‚é» HEAD (é€šå¸¸å°±æ˜¯ç›®å‰åˆ†æ”¯æœ€æ–°çš„é€²åº¦)

å¦å¤–æœ‰ä¸€å€‹é‡é»ï¼Œå› ç‚º rebase éå¾Œ HASH å€¼æœƒè®Šï¼Œæ‰€ä»¥èªªè¦ push å›å»é ç«¯ repo çš„æ™‚å€™è¦å°å¿ƒï¼Œç•¶ç„¶å¯ä»¥ä½¿ç”¨ `--force` ç›´æ¥å¼·æ¨ã€‚ä½†å¦‚æœå¼·åˆ¶ push å‰ï¼Œåœ˜éšŠå…¶ä»–æˆå“¡æœ‰ push äº†ï¼Œé‚£å°±æ˜¯æ»¿åš´é‡çš„å•é¡Œäº†

å»ºè­°ä½¿ç”¨ä¸‹é¢é€™å€‹æ–¹æ³•ï¼š

```bash
git push --force-with-lease origin main
```

- å› ç‚ºæ”¹è®Šäº†æ­·å²ï¼Œéœ€è¦ä½¿ç”¨å¼·åˆ¶æ¨é€
- `--force-with-lease` æ¯”ç´”ç²¹çš„ `--force` æ›´å®‰å…¨ï¼Œå®ƒæœƒæª¢æŸ¥é ç¨‹åˆ†æ”¯åœ¨ä½  pull ä¹‹å¾Œæ˜¯å¦æœ‰å…¶ä»–äººçš„æ–°æäº¤

é€™æ™‚å€™å°±å¯ä»¥å®‰å¿ƒé€šçŸ¥åœ˜éšŠå…¶ä»–äººå“¡ï¼šã€Œæˆ‘å° main åˆ†æ”¯é€²è¡Œäº† rebaseï¼Œä½ å€‘éœ€è¦é‡æ–°æ‹‰å–ã€

```bash
git fetch
git reset --hard origin/main
```

åƒè€ƒï¼š

1. [git åŸºç¤](git%20åŸºç¤.md)
2. [git å”ä½œ](git%20å”ä½œ.md)

### - æ³¨æ„äº‹é …

- ä½¿ç”¨ `git reset --hard` æˆ– `git rebase` å‰ï¼Œæœ€å¥½å…ˆå‚™ä»½æˆ–ç¢ºä¿ä½ ä¸éœ€è¦è¢«åˆªé™¤çš„è®Šæ›´
- ä¿®æ”¹å·²æ¨é€çš„ commit æ­·å²å¾Œï¼Œéœ€è¦ä½¿ç”¨ `git push --force` ä¾†æ›´æ–°é ç«¯å„²å­˜åº«
- åœ¨å…±äº«åˆ†æ”¯ä¸Šä½¿ç”¨é€™äº›æŒ‡ä»¤æ™‚éœ€ç‰¹åˆ¥å°å¿ƒï¼Œå¯èƒ½å½±éŸ¿å…¶ä»–å”ä½œè€…
